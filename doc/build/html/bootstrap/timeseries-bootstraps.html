

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Time-series Bootstraps &mdash; arch 3.2 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="arch 3.2 documentation" href="../index.html"/>
        <link rel="up" title="Bootstrapping" href="bootstrap.html"/>
        <link rel="next" title="References" href="background.html"/>
        <link rel="prev" title="Independent, Identical Distributed Data (i.i.d.)" href="iid-bootstraps.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> arch
          

          
          </a>

          
            
            
              <div class="version">
                3.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../univariate/univariate.html">Univariate Volatility Models</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="bootstrap.html">Bootstrapping</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="bootstrap_examples.html">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="confidence-intervals.html">Confidence Interval Construction</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameter-covariance-estimation.html">Parameter Covariance Estimation</a></li>
<li class="toctree-l2"><a class="reference internal" href="low-level-interface.html">Low-level Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="semiparametric-parametric-bootstrap.html">Semiparametric Bootstraps</a></li>
<li class="toctree-l2"><a class="reference internal" href="semiparametric-parametric-bootstrap.html#parametric-bootstraps">Parametric Bootstraps</a></li>
<li class="toctree-l2"><a class="reference internal" href="iid-bootstraps.html">Bootstraps for IID data</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Bootstraps for Time-series Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-stationary-bootstrap">The Stationary Bootstrap</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-circular-block-bootstrap">The Circular Block Bootstrap</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-moving-block-bootstrap">The Moving Block Bootstrap</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="background.html">Background and References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../multiple-comparison/multiple-comparisons.html">Multiple Comparison Problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unitroot/unitroot.html">Unit Root Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Change Log</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">arch</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="bootstrap.html">Bootstrapping</a> &raquo;</li>
      
    <li>Time-series Bootstraps</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/bootstrap/timeseries-bootstraps.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="time-series-bootstraps">
<h1>Time-series Bootstraps<a class="headerlink" href="#time-series-bootstraps" title="Permalink to this headline">¶</a></h1>
<p>Bootstraps for time-series data come in a variety of forms.  The three contained
in this package are the stationary bootstrap
(<a class="reference internal" href="#arch.bootstrap.StationaryBootstrap" title="arch.bootstrap.StationaryBootstrap"><code class="xref py py-class docutils literal"><span class="pre">StationaryBootstrap</span></code></a>), which uses blocks with an
exponentially distributed lengths, the circular block bootstrap
(<a class="reference internal" href="#arch.bootstrap.CircularBlockBootstrap" title="arch.bootstrap.CircularBlockBootstrap"><code class="xref py py-class docutils literal"><span class="pre">CircularBlockBootstrap</span></code></a>), which uses
fixed length blocks, and the moving block bootstrap which also uses fixed
length blocks (<a class="reference internal" href="#arch.bootstrap.MovingBlockBootstrap" title="arch.bootstrap.MovingBlockBootstrap"><code class="xref py py-class docutils literal"><span class="pre">MovingBlockBootstrap</span></code></a>).  The moving
block bootstrap does <em>not</em> wrap around and so observations near the start or
end of the series will be systematically under-sampled.  It is not recommended
for this reason.</p>
<div class="section" id="the-stationary-bootstrap">
<h2>The Stationary Bootstrap<a class="headerlink" href="#the-stationary-bootstrap" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="arch.bootstrap.StationaryBootstrap">
<em class="property">class </em><code class="descclassname">arch.bootstrap.</code><code class="descname">StationaryBootstrap</code><span class="sig-paren">(</span><em>block_size</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.StationaryBootstrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Politis and Romano (1994) bootstrap with expon. distributed block sizes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>block_size</strong> (<em>int</em>) &#8211; Average size of block to use</li>
<li><strong>args</strong> &#8211; Positional arguments to bootstrap</li>
<li><strong>kwargs</strong> &#8211; Keyword arguments to bootstrap</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="arch.bootstrap.StationaryBootstrap.index">
<code class="descname">index</code><a class="headerlink" href="#arch.bootstrap.StationaryBootstrap.index" title="Permalink to this definition">¶</a></dt>
<dd><p><em>array</em> &#8211; The current index of the bootstrap</p>
</dd></dl>

<dl class="attribute">
<dt id="arch.bootstrap.StationaryBootstrap.data">
<code class="descname">data</code><a class="headerlink" href="#arch.bootstrap.StationaryBootstrap.data" title="Permalink to this definition">¶</a></dt>
<dd><p><em>tuple</em> &#8211; Two-element tuple with the pos_data in the first position and kw_data
in the second (pos_data, kw_data)</p>
</dd></dl>

<dl class="attribute">
<dt id="arch.bootstrap.StationaryBootstrap.pos_data">
<code class="descname">pos_data</code><a class="headerlink" href="#arch.bootstrap.StationaryBootstrap.pos_data" title="Permalink to this definition">¶</a></dt>
<dd><p><em>tuple</em> &#8211; Tuple containing the positional arguments (in the order entered)</p>
</dd></dl>

<dl class="attribute">
<dt id="arch.bootstrap.StationaryBootstrap.kw_data">
<code class="descname">kw_data</code><a class="headerlink" href="#arch.bootstrap.StationaryBootstrap.kw_data" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em> &#8211; Dictionary containing the keyword arguments</p>
</dd></dl>

<dl class="attribute">
<dt id="arch.bootstrap.StationaryBootstrap.random_state">
<code class="descname">random_state</code><a class="headerlink" href="#arch.bootstrap.StationaryBootstrap.random_state" title="Permalink to this definition">¶</a></dt>
<dd><p><em>RandomState</em> &#8211; RandomState instance used by bootstrap</p>
</dd></dl>

<p class="rubric">Notes</p>
<p>Supports numpy arrays and pandas Series and DataFrames.  Data returned has
the same type as the input date.</p>
<p>Data entered using keyword arguments is directly accessibly as an
attribute.</p>
<p class="rubric">Examples</p>
<p>Data can be accessed in a number of ways.  Positional data is retained in
the same order as it was entered when the bootstrap was initialized.
Keyword data is available both as an attribute or using a dictionary syntax
on kw_data.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">arch.bootstrap</span> <span class="k">import</span> <span class="n">StationaryBootstrap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy.random</span> <span class="k">import</span> <span class="n">standard_normal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">standard_normal</span><span class="p">((</span><span class="mi">500</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">standard_normal</span><span class="p">((</span><span class="mi">500</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="n">standard_normal</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bs</span> <span class="o">=</span> <span class="n">StationaryBootstrap</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="n">z</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">bs</span><span class="o">.</span><span class="n">bootstrap</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">bs_x</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">... </span>    <span class="n">bs_y</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;y&#39;</span><span class="p">]</span>
<span class="gp">... </span>    <span class="n">bs_z</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">z</span>
</pre></div>
</div>
<dl class="method">
<dt id="arch.bootstrap.StationaryBootstrap.apply">
<code class="descname">apply</code><span class="sig-paren">(</span><em>func</em>, <em>reps=1000</em>, <em>extra_kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.StationaryBootstrap.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a function to bootstrap replicated data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>callable</em>) &#8211; Function the computes parameter values.  See Notes for requirements</li>
<li><strong>reps</strong> (<em>int, optional</em>) &#8211; Number of bootstrap replications</li>
<li><strong>extra_kwargs</strong> (<em>dict, optional</em>) &#8211; Extra keyword arguments to use when calling func.  Must not
conflict with keyword arguments used to initialize bootstrap</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>results</strong> &#8211; reps by nparam array of computed function values where each row
corresponds to a bootstrap iteration</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>When there are no extra keyword arguments, the function is called</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">func</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>where args and kwargs are the bootstrap version of the data provided
when setting up the bootstrap.  When extra keyword arguments are used,
these are appended to kwargs before calling func</p>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">arch.bootstrap</span> <span class="k">import</span> <span class="n">IIDBootstrap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bs</span> <span class="o">=</span> <span class="n">IIDBootstrap</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">y</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.StationaryBootstrap.bootstrap">
<code class="descname">bootstrap</code><span class="sig-paren">(</span><em>reps</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.StationaryBootstrap.bootstrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator for use when bootstrapping</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>reps</strong> (<em>int</em>) &#8211; Number of bootstrap replications</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<p>The key steps are problem dependent and so this example shows the use
as an iterator that does not produce any output</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">arch.bootstrap</span> <span class="k">import</span> <span class="n">IIDBootstrap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bs</span> <span class="o">=</span> <span class="n">IIDBootstrap</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span> <span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">posdata</span><span class="p">,</span> <span class="n">kwdata</span> <span class="ow">in</span> <span class="n">bs</span><span class="o">.</span><span class="n">bootstrap</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
<span class="gp">... </span>    <span class="c1"># Do something with the positional data and/or keyword data</span>
<span class="gp">... </span>    <span class="k">pass</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note this is a generic example and so the class used should be the
name of the required bootstrap</p>
</div>
<p class="rubric">Notes</p>
<p>The iterator returns a tuple containing the data entered in positional
arguments as a tuple and the data entered using keywords as a
dictionary</p>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.StationaryBootstrap.conf_int">
<code class="descname">conf_int</code><span class="sig-paren">(</span><em>func</em>, <em>reps=1000</em>, <em>method='basic'</em>, <em>size=0.95</em>, <em>tail='two'</em>, <em>extra_kwargs=None</em>, <em>reuse=False</em>, <em>sampling='nonparametric'</em>, <em>std_err_func=None</em>, <em>studentize_reps=1000</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.StationaryBootstrap.conf_int" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>callable</em>) &#8211; Function the computes parameter values.  See Notes for requirements</li>
<li><strong>reps</strong> (<em>int, optional</em>) &#8211; Number of bootstrap replications</li>
<li><strong>method</strong> (<em>string, optional</em>) &#8211; One of &#8216;basic&#8217;, &#8216;percentile&#8217;, &#8216;studentized&#8217;, &#8216;norm&#8217; (identical to
&#8216;var&#8217;, &#8216;cov&#8217;), &#8216;bc&#8217; (identical to &#8216;debiased&#8217;, &#8216;bias-corrected&#8217;), or
&#8216;bca&#8217;</li>
<li><strong>size</strong> (<em>float, optional</em>) &#8211; Coverage of confidence interval</li>
<li><strong>tail</strong> (<em>string, optional</em>) &#8211; One of &#8216;two&#8217;, &#8216;upper&#8217; or &#8216;lower&#8217;.</li>
<li><strong>reuse</strong> (<em>bool, optional</em>) &#8211; Flag indicating whether to reuse previously computed bootstrap
results.  This allows alternative methods to be compared without
rerunning the bootstrap simulation.  Reuse is ignored if reps is
not the same across multiple runs, func changes across calls, or
method is &#8216;studentized&#8217;.</li>
<li><strong>sampling</strong> (<em>string, optional</em>) &#8211; Type of sampling to use: &#8216;nonparametric&#8217;, &#8216;semi-parametric&#8217; (or
&#8216;semi&#8217;) or &#8216;parametric&#8217;.  The default is &#8216;nonparametric&#8217;.  See
notes about the changes to func required when using &#8216;semi&#8217; or
&#8216;parametric&#8217;.</li>
<li><strong>extra_kwargs</strong> (<em>dict, optional</em>) &#8211; Extra keyword arguments to use when calling func and std_err_func,
when appropriate</li>
<li><strong>std_err_func</strong> (<em>callable, optional</em>) &#8211; Function to use when standardizing estimated parameters when using
the studentized bootstrap.  Providing an analytical function
eliminates the need for a nested bootstrap</li>
<li><strong>studentize_reps</strong> (<em>int, optional</em>) &#8211; Number of bootstraps to use in the innter component when using the
studentized bootstrap.  Ignored when <code class="docutils literal"><span class="pre">std_err_func</span></code> is provided</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>intervals</strong> &#8211; Computed confidence interval.  Row 0 contains the lower bounds, and
row 1 contains the upper bounds.  Each column corresponds to a
parameter. When tail is &#8216;lower&#8217;, all upper bounds are inf.
Similarly, &#8216;upper&#8217; sets all lower bounds to -inf.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">2-d array</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">arch.bootstrap</span> <span class="k">import</span> <span class="n">IIDBootstrap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bs</span> <span class="o">=</span> <span class="n">IIDBootstrap</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ci</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">conf_int</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>When there are no extra keyword arguments, the function is called</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>where args and kwargs are the bootstrap version of the data provided
when setting up the bootstrap.  When extra keyword arguments are used,
these are appended to kwargs before calling func.</p>
<p>The standard error function, if provided, must return a vector of
parameter standard errors and is called</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">std_err_func</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal"><span class="pre">params</span></code> is the vector of estimated parameters using the same
bootstrap data as in args and kwargs.</p>
<p>The bootstraps are:</p>
<ul class="simple">
<li>&#8216;basic&#8217; - Basic confidence using the estimated parameter and
difference between the estimated parameter and the bootstrap
parameters</li>
<li>&#8216;percentile&#8217; - Direct use of bootstrap percentiles</li>
<li>&#8216;norm&#8217; - Makes use of normal approximation and bootstrap covariance
estimator</li>
<li>&#8216;studentized&#8217; - Uses either a standard error function or a nested
bootstrap to estimate percentiles and the bootstrap covariance for
scale</li>
<li>&#8216;bc&#8217; - Bias corrected using estimate bootstrap bias correction</li>
<li>&#8216;bca&#8217; - Bias corrected and accelerated, adding acceleration parameter
to &#8216;bc&#8217; method</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.StationaryBootstrap.cov">
<code class="descname">cov</code><span class="sig-paren">(</span><em>func</em>, <em>reps=1000</em>, <em>recenter=True</em>, <em>extra_kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.StationaryBootstrap.cov" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute parameter covariance using bootstrap</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>callable</em>) &#8211; Callable function that returns the statistic of interest as a
1-d array</li>
<li><strong>reps</strong> (<em>int, optional</em>) &#8211; Number of bootstrap replications</li>
<li><strong>recenter</strong> (<em>bool, optional</em>) &#8211; Whether to center the bootstrap variance estimator on the average
of the bootstrap samples (True) or to center on the original sample
estimate (False).  Default is True.</li>
<li><strong>extra_kwargs</strong> (<em>dict, optional</em>) &#8211; Dictionary of extra keyword arguments to pass to func</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cov</strong> &#8211; Bootstrap covariance estimator</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>func must have the signature</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">func</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>where params are a 1-dimensional array, and <cite>*args</cite> and <cite>**kwargs</cite> are
data used in the the bootstrap.  The first argument, params, will be
none when called using the original data, and will contain the estimate
computed using the original data in bootstrap replications.  This
parameter is passed to allow parametric bootstrap simulation.</p>
<p class="rubric">Example</p>
<p>Bootstrap covariance of the mean</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">arch.bootstrap</span> <span class="k">import</span> <span class="n">IIDBootstrap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bs</span> <span class="o">=</span> <span class="n">IIDBootstrap</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cov</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">cov</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<p>Bootstrap covariance using a function that takes additional input</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">stat</span><span class="o">==</span><span class="s1">&#39;mean&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">elif</span> <span class="n">stat</span><span class="o">==</span><span class="s1">&#39;var&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cov</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">cov</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">extra_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;stat&#39;</span><span class="p">:</span><span class="s1">&#39;var&#39;</span><span class="p">})</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note this is a generic example and so the class used should be the
name of the required bootstrap</p>
</div>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.StationaryBootstrap.get_state">
<code class="descname">get_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.StationaryBootstrap.get_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the state of the bootstrap&#8217;s random number generator</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>state</strong> &#8211; Array containing the state</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">RandomState state vector</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.StationaryBootstrap.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>use_seed=True</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.StationaryBootstrap.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the bootstrap to either its initial state or the last seed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>use_seed</strong> (<em>bool, optional</em>) &#8211; Flag indicating whether to use the last seed if provided.  If
False or if no seed has been set, the bootstrap will be reset
to the initial state.  Default is True</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.StationaryBootstrap.seed">
<code class="descname">seed</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.StationaryBootstrap.seed" title="Permalink to this definition">¶</a></dt>
<dd><p>Seeds the bootstrap&#8217;s random number generator</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>int</em>) &#8211; Integer to use as the seed</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.StationaryBootstrap.set_state">
<code class="descname">set_state</code><span class="sig-paren">(</span><em>state</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.StationaryBootstrap.set_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the state of the bootstrap&#8217;s random number generator</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> (<em>RandomState state vector</em>) &#8211; Array containing the state</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.StationaryBootstrap.var">
<code class="descname">var</code><span class="sig-paren">(</span><em>func</em>, <em>reps=1000</em>, <em>recenter=True</em>, <em>extra_kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.StationaryBootstrap.var" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute parameter variance using bootstrap</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>callable</em>) &#8211; Callable function that returns the statistic of interest as a
1-d array</li>
<li><strong>reps</strong> (<em>int, optional</em>) &#8211; Number of bootstrap replications</li>
<li><strong>recenter</strong> (<em>bool, optional</em>) &#8211; Whether to center the bootstrap variance estimator on the average
of the bootstrap samples (True) or to center on the original sample
estimate (False).  Default is True.</li>
<li><strong>extra_kwargs</strong> (<em>dict, optional</em>) &#8211; Dictionary of extra keyword arguments to pass to func</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>var</strong> &#8211; Bootstrap variance estimator</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">1-d array</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>func must have the signature</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">func</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>where params are a 1-dimensional array, and <cite>*args</cite> and <cite>**kwargs</cite> are
data used in the the bootstrap.  The first argument, params, will be
none when called using the original data, and will contain the estimate
computed using the original data in bootstrap replications.  This
parameter is passed to allow parametric bootstrap simulation.</p>
<p class="rubric">Example</p>
<p>Bootstrap covariance of the mean</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">arch.bootstrap</span> <span class="k">import</span> <span class="n">IIDBootstrap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bs</span> <span class="o">=</span> <span class="n">IIDBootstrap</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variances</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<p>Bootstrap covariance using a function that takes additional input</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">stat</span><span class="o">==</span><span class="s1">&#39;mean&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">elif</span> <span class="n">stat</span><span class="o">==</span><span class="s1">&#39;var&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variances</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">extra_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;stat&#39;</span><span class="p">:</span> <span class="s1">&#39;var&#39;</span><span class="p">})</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note this is a generic example and so the class used should be the
name of the required bootstrap</p>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-circular-block-bootstrap">
<h2>The Circular Block Bootstrap<a class="headerlink" href="#the-circular-block-bootstrap" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="arch.bootstrap.CircularBlockBootstrap">
<em class="property">class </em><code class="descclassname">arch.bootstrap.</code><code class="descname">CircularBlockBootstrap</code><span class="sig-paren">(</span><em>block_size</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.CircularBlockBootstrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bootstrap based on blocks of the same length with end-to-start wrap around</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>block_size</strong> (<em>int</em>) &#8211; Size of block to use</li>
<li><strong>args</strong> &#8211; Positional arguments to bootstrap</li>
<li><strong>kwargs</strong> &#8211; Keyword arguments to bootstrap</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="arch.bootstrap.CircularBlockBootstrap.index">
<code class="descname">index</code><a class="headerlink" href="#arch.bootstrap.CircularBlockBootstrap.index" title="Permalink to this definition">¶</a></dt>
<dd><p><em>array</em> &#8211; The current index of the bootstrap</p>
</dd></dl>

<dl class="attribute">
<dt id="arch.bootstrap.CircularBlockBootstrap.data">
<code class="descname">data</code><a class="headerlink" href="#arch.bootstrap.CircularBlockBootstrap.data" title="Permalink to this definition">¶</a></dt>
<dd><p><em>tuple</em> &#8211; Two-element tuple with the pos_data in the first position and kw_data
in the second (pos_data, kw_data)</p>
</dd></dl>

<dl class="attribute">
<dt id="arch.bootstrap.CircularBlockBootstrap.pos_data">
<code class="descname">pos_data</code><a class="headerlink" href="#arch.bootstrap.CircularBlockBootstrap.pos_data" title="Permalink to this definition">¶</a></dt>
<dd><p><em>tuple</em> &#8211; Tuple containing the positional arguments (in the order entered)</p>
</dd></dl>

<dl class="attribute">
<dt id="arch.bootstrap.CircularBlockBootstrap.kw_data">
<code class="descname">kw_data</code><a class="headerlink" href="#arch.bootstrap.CircularBlockBootstrap.kw_data" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em> &#8211; Dictionary containing the keyword arguments</p>
</dd></dl>

<dl class="attribute">
<dt id="arch.bootstrap.CircularBlockBootstrap.random_state">
<code class="descname">random_state</code><a class="headerlink" href="#arch.bootstrap.CircularBlockBootstrap.random_state" title="Permalink to this definition">¶</a></dt>
<dd><p><em>RandomState</em> &#8211; RandomState instance used by bootstrap</p>
</dd></dl>

<p class="rubric">Notes</p>
<p>Supports numpy arrays and pandas Series and DataFrames.  Data returned has
the same type as the input date.</p>
<p>Data entered using keyword arguments is directly accessibly as an
attribute.</p>
<p class="rubric">Examples</p>
<p>Data can be accessed in a number of ways.  Positional data is retained in
the same order as it was entered when the bootstrap was initialized.
Keyword data is available both as an attribute or using a dictionary syntax
on kw_data.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">arch.bootstrap</span> <span class="k">import</span> <span class="n">CircularBlockBootstrap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy.random</span> <span class="k">import</span> <span class="n">standard_normal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">standard_normal</span><span class="p">((</span><span class="mi">500</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">standard_normal</span><span class="p">((</span><span class="mi">500</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="n">standard_normal</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bs</span> <span class="o">=</span> <span class="n">CircularBlockBootstrap</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="n">z</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">bs</span><span class="o">.</span><span class="n">bootstrap</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">bs_x</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">... </span>    <span class="n">bs_y</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;y&#39;</span><span class="p">]</span>
<span class="gp">... </span>    <span class="n">bs_z</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">z</span>
</pre></div>
</div>
<dl class="method">
<dt id="arch.bootstrap.CircularBlockBootstrap.apply">
<code class="descname">apply</code><span class="sig-paren">(</span><em>func</em>, <em>reps=1000</em>, <em>extra_kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.CircularBlockBootstrap.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a function to bootstrap replicated data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>callable</em>) &#8211; Function the computes parameter values.  See Notes for requirements</li>
<li><strong>reps</strong> (<em>int, optional</em>) &#8211; Number of bootstrap replications</li>
<li><strong>extra_kwargs</strong> (<em>dict, optional</em>) &#8211; Extra keyword arguments to use when calling func.  Must not
conflict with keyword arguments used to initialize bootstrap</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>results</strong> &#8211; reps by nparam array of computed function values where each row
corresponds to a bootstrap iteration</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>When there are no extra keyword arguments, the function is called</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">func</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>where args and kwargs are the bootstrap version of the data provided
when setting up the bootstrap.  When extra keyword arguments are used,
these are appended to kwargs before calling func</p>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">arch.bootstrap</span> <span class="k">import</span> <span class="n">IIDBootstrap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bs</span> <span class="o">=</span> <span class="n">IIDBootstrap</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">y</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.CircularBlockBootstrap.bootstrap">
<code class="descname">bootstrap</code><span class="sig-paren">(</span><em>reps</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.CircularBlockBootstrap.bootstrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator for use when bootstrapping</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>reps</strong> (<em>int</em>) &#8211; Number of bootstrap replications</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<p>The key steps are problem dependent and so this example shows the use
as an iterator that does not produce any output</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">arch.bootstrap</span> <span class="k">import</span> <span class="n">IIDBootstrap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bs</span> <span class="o">=</span> <span class="n">IIDBootstrap</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span> <span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">posdata</span><span class="p">,</span> <span class="n">kwdata</span> <span class="ow">in</span> <span class="n">bs</span><span class="o">.</span><span class="n">bootstrap</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
<span class="gp">... </span>    <span class="c1"># Do something with the positional data and/or keyword data</span>
<span class="gp">... </span>    <span class="k">pass</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note this is a generic example and so the class used should be the
name of the required bootstrap</p>
</div>
<p class="rubric">Notes</p>
<p>The iterator returns a tuple containing the data entered in positional
arguments as a tuple and the data entered using keywords as a
dictionary</p>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.CircularBlockBootstrap.conf_int">
<code class="descname">conf_int</code><span class="sig-paren">(</span><em>func</em>, <em>reps=1000</em>, <em>method='basic'</em>, <em>size=0.95</em>, <em>tail='two'</em>, <em>extra_kwargs=None</em>, <em>reuse=False</em>, <em>sampling='nonparametric'</em>, <em>std_err_func=None</em>, <em>studentize_reps=1000</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.CircularBlockBootstrap.conf_int" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>callable</em>) &#8211; Function the computes parameter values.  See Notes for requirements</li>
<li><strong>reps</strong> (<em>int, optional</em>) &#8211; Number of bootstrap replications</li>
<li><strong>method</strong> (<em>string, optional</em>) &#8211; One of &#8216;basic&#8217;, &#8216;percentile&#8217;, &#8216;studentized&#8217;, &#8216;norm&#8217; (identical to
&#8216;var&#8217;, &#8216;cov&#8217;), &#8216;bc&#8217; (identical to &#8216;debiased&#8217;, &#8216;bias-corrected&#8217;), or
&#8216;bca&#8217;</li>
<li><strong>size</strong> (<em>float, optional</em>) &#8211; Coverage of confidence interval</li>
<li><strong>tail</strong> (<em>string, optional</em>) &#8211; One of &#8216;two&#8217;, &#8216;upper&#8217; or &#8216;lower&#8217;.</li>
<li><strong>reuse</strong> (<em>bool, optional</em>) &#8211; Flag indicating whether to reuse previously computed bootstrap
results.  This allows alternative methods to be compared without
rerunning the bootstrap simulation.  Reuse is ignored if reps is
not the same across multiple runs, func changes across calls, or
method is &#8216;studentized&#8217;.</li>
<li><strong>sampling</strong> (<em>string, optional</em>) &#8211; Type of sampling to use: &#8216;nonparametric&#8217;, &#8216;semi-parametric&#8217; (or
&#8216;semi&#8217;) or &#8216;parametric&#8217;.  The default is &#8216;nonparametric&#8217;.  See
notes about the changes to func required when using &#8216;semi&#8217; or
&#8216;parametric&#8217;.</li>
<li><strong>extra_kwargs</strong> (<em>dict, optional</em>) &#8211; Extra keyword arguments to use when calling func and std_err_func,
when appropriate</li>
<li><strong>std_err_func</strong> (<em>callable, optional</em>) &#8211; Function to use when standardizing estimated parameters when using
the studentized bootstrap.  Providing an analytical function
eliminates the need for a nested bootstrap</li>
<li><strong>studentize_reps</strong> (<em>int, optional</em>) &#8211; Number of bootstraps to use in the innter component when using the
studentized bootstrap.  Ignored when <code class="docutils literal"><span class="pre">std_err_func</span></code> is provided</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>intervals</strong> &#8211; Computed confidence interval.  Row 0 contains the lower bounds, and
row 1 contains the upper bounds.  Each column corresponds to a
parameter. When tail is &#8216;lower&#8217;, all upper bounds are inf.
Similarly, &#8216;upper&#8217; sets all lower bounds to -inf.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">2-d array</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">arch.bootstrap</span> <span class="k">import</span> <span class="n">IIDBootstrap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bs</span> <span class="o">=</span> <span class="n">IIDBootstrap</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ci</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">conf_int</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>When there are no extra keyword arguments, the function is called</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>where args and kwargs are the bootstrap version of the data provided
when setting up the bootstrap.  When extra keyword arguments are used,
these are appended to kwargs before calling func.</p>
<p>The standard error function, if provided, must return a vector of
parameter standard errors and is called</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">std_err_func</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal"><span class="pre">params</span></code> is the vector of estimated parameters using the same
bootstrap data as in args and kwargs.</p>
<p>The bootstraps are:</p>
<ul class="simple">
<li>&#8216;basic&#8217; - Basic confidence using the estimated parameter and
difference between the estimated parameter and the bootstrap
parameters</li>
<li>&#8216;percentile&#8217; - Direct use of bootstrap percentiles</li>
<li>&#8216;norm&#8217; - Makes use of normal approximation and bootstrap covariance
estimator</li>
<li>&#8216;studentized&#8217; - Uses either a standard error function or a nested
bootstrap to estimate percentiles and the bootstrap covariance for
scale</li>
<li>&#8216;bc&#8217; - Bias corrected using estimate bootstrap bias correction</li>
<li>&#8216;bca&#8217; - Bias corrected and accelerated, adding acceleration parameter
to &#8216;bc&#8217; method</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.CircularBlockBootstrap.cov">
<code class="descname">cov</code><span class="sig-paren">(</span><em>func</em>, <em>reps=1000</em>, <em>recenter=True</em>, <em>extra_kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.CircularBlockBootstrap.cov" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute parameter covariance using bootstrap</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>callable</em>) &#8211; Callable function that returns the statistic of interest as a
1-d array</li>
<li><strong>reps</strong> (<em>int, optional</em>) &#8211; Number of bootstrap replications</li>
<li><strong>recenter</strong> (<em>bool, optional</em>) &#8211; Whether to center the bootstrap variance estimator on the average
of the bootstrap samples (True) or to center on the original sample
estimate (False).  Default is True.</li>
<li><strong>extra_kwargs</strong> (<em>dict, optional</em>) &#8211; Dictionary of extra keyword arguments to pass to func</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cov</strong> &#8211; Bootstrap covariance estimator</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>func must have the signature</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">func</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>where params are a 1-dimensional array, and <cite>*args</cite> and <cite>**kwargs</cite> are
data used in the the bootstrap.  The first argument, params, will be
none when called using the original data, and will contain the estimate
computed using the original data in bootstrap replications.  This
parameter is passed to allow parametric bootstrap simulation.</p>
<p class="rubric">Example</p>
<p>Bootstrap covariance of the mean</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">arch.bootstrap</span> <span class="k">import</span> <span class="n">IIDBootstrap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bs</span> <span class="o">=</span> <span class="n">IIDBootstrap</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cov</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">cov</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<p>Bootstrap covariance using a function that takes additional input</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">stat</span><span class="o">==</span><span class="s1">&#39;mean&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">elif</span> <span class="n">stat</span><span class="o">==</span><span class="s1">&#39;var&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cov</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">cov</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">extra_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;stat&#39;</span><span class="p">:</span><span class="s1">&#39;var&#39;</span><span class="p">})</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note this is a generic example and so the class used should be the
name of the required bootstrap</p>
</div>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.CircularBlockBootstrap.get_state">
<code class="descname">get_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.CircularBlockBootstrap.get_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the state of the bootstrap&#8217;s random number generator</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>state</strong> &#8211; Array containing the state</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">RandomState state vector</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.CircularBlockBootstrap.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>use_seed=True</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.CircularBlockBootstrap.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the bootstrap to either its initial state or the last seed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>use_seed</strong> (<em>bool, optional</em>) &#8211; Flag indicating whether to use the last seed if provided.  If
False or if no seed has been set, the bootstrap will be reset
to the initial state.  Default is True</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.CircularBlockBootstrap.seed">
<code class="descname">seed</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.CircularBlockBootstrap.seed" title="Permalink to this definition">¶</a></dt>
<dd><p>Seeds the bootstrap&#8217;s random number generator</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>int</em>) &#8211; Integer to use as the seed</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.CircularBlockBootstrap.set_state">
<code class="descname">set_state</code><span class="sig-paren">(</span><em>state</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.CircularBlockBootstrap.set_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the state of the bootstrap&#8217;s random number generator</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> (<em>RandomState state vector</em>) &#8211; Array containing the state</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.CircularBlockBootstrap.var">
<code class="descname">var</code><span class="sig-paren">(</span><em>func</em>, <em>reps=1000</em>, <em>recenter=True</em>, <em>extra_kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.CircularBlockBootstrap.var" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute parameter variance using bootstrap</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>callable</em>) &#8211; Callable function that returns the statistic of interest as a
1-d array</li>
<li><strong>reps</strong> (<em>int, optional</em>) &#8211; Number of bootstrap replications</li>
<li><strong>recenter</strong> (<em>bool, optional</em>) &#8211; Whether to center the bootstrap variance estimator on the average
of the bootstrap samples (True) or to center on the original sample
estimate (False).  Default is True.</li>
<li><strong>extra_kwargs</strong> (<em>dict, optional</em>) &#8211; Dictionary of extra keyword arguments to pass to func</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>var</strong> &#8211; Bootstrap variance estimator</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">1-d array</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>func must have the signature</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">func</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>where params are a 1-dimensional array, and <cite>*args</cite> and <cite>**kwargs</cite> are
data used in the the bootstrap.  The first argument, params, will be
none when called using the original data, and will contain the estimate
computed using the original data in bootstrap replications.  This
parameter is passed to allow parametric bootstrap simulation.</p>
<p class="rubric">Example</p>
<p>Bootstrap covariance of the mean</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">arch.bootstrap</span> <span class="k">import</span> <span class="n">IIDBootstrap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bs</span> <span class="o">=</span> <span class="n">IIDBootstrap</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variances</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<p>Bootstrap covariance using a function that takes additional input</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">stat</span><span class="o">==</span><span class="s1">&#39;mean&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">elif</span> <span class="n">stat</span><span class="o">==</span><span class="s1">&#39;var&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variances</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">extra_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;stat&#39;</span><span class="p">:</span> <span class="s1">&#39;var&#39;</span><span class="p">})</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note this is a generic example and so the class used should be the
name of the required bootstrap</p>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-moving-block-bootstrap">
<h2>The Moving Block Bootstrap<a class="headerlink" href="#the-moving-block-bootstrap" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="arch.bootstrap.MovingBlockBootstrap">
<em class="property">class </em><code class="descclassname">arch.bootstrap.</code><code class="descname">MovingBlockBootstrap</code><span class="sig-paren">(</span><em>block_size</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.MovingBlockBootstrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bootstrap based on blocks of the same length without wrap around</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>block_size</strong> (<em>int</em>) &#8211; Size of block to use</li>
<li><strong>args</strong> &#8211; Positional arguments to bootstrap</li>
<li><strong>kwargs</strong> &#8211; Keyword arguments to bootstrap</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="arch.bootstrap.MovingBlockBootstrap.index">
<code class="descname">index</code><a class="headerlink" href="#arch.bootstrap.MovingBlockBootstrap.index" title="Permalink to this definition">¶</a></dt>
<dd><p><em>array</em> &#8211; The current index of the bootstrap</p>
</dd></dl>

<dl class="attribute">
<dt id="arch.bootstrap.MovingBlockBootstrap.data">
<code class="descname">data</code><a class="headerlink" href="#arch.bootstrap.MovingBlockBootstrap.data" title="Permalink to this definition">¶</a></dt>
<dd><p><em>tuple</em> &#8211; Two-element tuple with the pos_data in the first position and kw_data
in the second (pos_data, kw_data)</p>
</dd></dl>

<dl class="attribute">
<dt id="arch.bootstrap.MovingBlockBootstrap.pos_data">
<code class="descname">pos_data</code><a class="headerlink" href="#arch.bootstrap.MovingBlockBootstrap.pos_data" title="Permalink to this definition">¶</a></dt>
<dd><p><em>tuple</em> &#8211; Tuple containing the positional arguments (in the order entered)</p>
</dd></dl>

<dl class="attribute">
<dt id="arch.bootstrap.MovingBlockBootstrap.kw_data">
<code class="descname">kw_data</code><a class="headerlink" href="#arch.bootstrap.MovingBlockBootstrap.kw_data" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em> &#8211; Dictionary containing the keyword arguments</p>
</dd></dl>

<dl class="attribute">
<dt id="arch.bootstrap.MovingBlockBootstrap.random_state">
<code class="descname">random_state</code><a class="headerlink" href="#arch.bootstrap.MovingBlockBootstrap.random_state" title="Permalink to this definition">¶</a></dt>
<dd><p><em>RandomState</em> &#8211; RandomState instance used by bootstrap</p>
</dd></dl>

<p class="rubric">Notes</p>
<p>Supports numpy arrays and pandas Series and DataFrames.  Data returned has
the same type as the input date.</p>
<p>Data entered using keyword arguments is directly accessibly as an
attribute.</p>
<p class="rubric">Examples</p>
<p>Data can be accessed in a number of ways.  Positional data is retained in
the same order as it was entered when the bootstrap was initialized.
Keyword data is available both as an attribute or using a dictionary syntax
on kw_data.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">arch.bootstrap</span> <span class="k">import</span> <span class="n">MovingBlockBootstrap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy.random</span> <span class="k">import</span> <span class="n">standard_normal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">standard_normal</span><span class="p">((</span><span class="mi">500</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">standard_normal</span><span class="p">((</span><span class="mi">500</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="n">standard_normal</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bs</span> <span class="o">=</span> <span class="n">MovingBlockBootstrap</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="n">z</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">bs</span><span class="o">.</span><span class="n">bootstrap</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">bs_x</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">... </span>    <span class="n">bs_y</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;y&#39;</span><span class="p">]</span>
<span class="gp">... </span>    <span class="n">bs_z</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">z</span>
</pre></div>
</div>
<dl class="method">
<dt id="arch.bootstrap.MovingBlockBootstrap.apply">
<code class="descname">apply</code><span class="sig-paren">(</span><em>func</em>, <em>reps=1000</em>, <em>extra_kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.MovingBlockBootstrap.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a function to bootstrap replicated data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>callable</em>) &#8211; Function the computes parameter values.  See Notes for requirements</li>
<li><strong>reps</strong> (<em>int, optional</em>) &#8211; Number of bootstrap replications</li>
<li><strong>extra_kwargs</strong> (<em>dict, optional</em>) &#8211; Extra keyword arguments to use when calling func.  Must not
conflict with keyword arguments used to initialize bootstrap</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>results</strong> &#8211; reps by nparam array of computed function values where each row
corresponds to a bootstrap iteration</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>When there are no extra keyword arguments, the function is called</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">func</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>where args and kwargs are the bootstrap version of the data provided
when setting up the bootstrap.  When extra keyword arguments are used,
these are appended to kwargs before calling func</p>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">arch.bootstrap</span> <span class="k">import</span> <span class="n">IIDBootstrap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bs</span> <span class="o">=</span> <span class="n">IIDBootstrap</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">y</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.MovingBlockBootstrap.bootstrap">
<code class="descname">bootstrap</code><span class="sig-paren">(</span><em>reps</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.MovingBlockBootstrap.bootstrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator for use when bootstrapping</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>reps</strong> (<em>int</em>) &#8211; Number of bootstrap replications</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<p>The key steps are problem dependent and so this example shows the use
as an iterator that does not produce any output</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">arch.bootstrap</span> <span class="k">import</span> <span class="n">IIDBootstrap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bs</span> <span class="o">=</span> <span class="n">IIDBootstrap</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span> <span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">posdata</span><span class="p">,</span> <span class="n">kwdata</span> <span class="ow">in</span> <span class="n">bs</span><span class="o">.</span><span class="n">bootstrap</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
<span class="gp">... </span>    <span class="c1"># Do something with the positional data and/or keyword data</span>
<span class="gp">... </span>    <span class="k">pass</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note this is a generic example and so the class used should be the
name of the required bootstrap</p>
</div>
<p class="rubric">Notes</p>
<p>The iterator returns a tuple containing the data entered in positional
arguments as a tuple and the data entered using keywords as a
dictionary</p>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.MovingBlockBootstrap.conf_int">
<code class="descname">conf_int</code><span class="sig-paren">(</span><em>func</em>, <em>reps=1000</em>, <em>method='basic'</em>, <em>size=0.95</em>, <em>tail='two'</em>, <em>extra_kwargs=None</em>, <em>reuse=False</em>, <em>sampling='nonparametric'</em>, <em>std_err_func=None</em>, <em>studentize_reps=1000</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.MovingBlockBootstrap.conf_int" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>callable</em>) &#8211; Function the computes parameter values.  See Notes for requirements</li>
<li><strong>reps</strong> (<em>int, optional</em>) &#8211; Number of bootstrap replications</li>
<li><strong>method</strong> (<em>string, optional</em>) &#8211; One of &#8216;basic&#8217;, &#8216;percentile&#8217;, &#8216;studentized&#8217;, &#8216;norm&#8217; (identical to
&#8216;var&#8217;, &#8216;cov&#8217;), &#8216;bc&#8217; (identical to &#8216;debiased&#8217;, &#8216;bias-corrected&#8217;), or
&#8216;bca&#8217;</li>
<li><strong>size</strong> (<em>float, optional</em>) &#8211; Coverage of confidence interval</li>
<li><strong>tail</strong> (<em>string, optional</em>) &#8211; One of &#8216;two&#8217;, &#8216;upper&#8217; or &#8216;lower&#8217;.</li>
<li><strong>reuse</strong> (<em>bool, optional</em>) &#8211; Flag indicating whether to reuse previously computed bootstrap
results.  This allows alternative methods to be compared without
rerunning the bootstrap simulation.  Reuse is ignored if reps is
not the same across multiple runs, func changes across calls, or
method is &#8216;studentized&#8217;.</li>
<li><strong>sampling</strong> (<em>string, optional</em>) &#8211; Type of sampling to use: &#8216;nonparametric&#8217;, &#8216;semi-parametric&#8217; (or
&#8216;semi&#8217;) or &#8216;parametric&#8217;.  The default is &#8216;nonparametric&#8217;.  See
notes about the changes to func required when using &#8216;semi&#8217; or
&#8216;parametric&#8217;.</li>
<li><strong>extra_kwargs</strong> (<em>dict, optional</em>) &#8211; Extra keyword arguments to use when calling func and std_err_func,
when appropriate</li>
<li><strong>std_err_func</strong> (<em>callable, optional</em>) &#8211; Function to use when standardizing estimated parameters when using
the studentized bootstrap.  Providing an analytical function
eliminates the need for a nested bootstrap</li>
<li><strong>studentize_reps</strong> (<em>int, optional</em>) &#8211; Number of bootstraps to use in the innter component when using the
studentized bootstrap.  Ignored when <code class="docutils literal"><span class="pre">std_err_func</span></code> is provided</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>intervals</strong> &#8211; Computed confidence interval.  Row 0 contains the lower bounds, and
row 1 contains the upper bounds.  Each column corresponds to a
parameter. When tail is &#8216;lower&#8217;, all upper bounds are inf.
Similarly, &#8216;upper&#8217; sets all lower bounds to -inf.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">2-d array</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">arch.bootstrap</span> <span class="k">import</span> <span class="n">IIDBootstrap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bs</span> <span class="o">=</span> <span class="n">IIDBootstrap</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ci</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">conf_int</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>When there are no extra keyword arguments, the function is called</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>where args and kwargs are the bootstrap version of the data provided
when setting up the bootstrap.  When extra keyword arguments are used,
these are appended to kwargs before calling func.</p>
<p>The standard error function, if provided, must return a vector of
parameter standard errors and is called</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">std_err_func</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal"><span class="pre">params</span></code> is the vector of estimated parameters using the same
bootstrap data as in args and kwargs.</p>
<p>The bootstraps are:</p>
<ul class="simple">
<li>&#8216;basic&#8217; - Basic confidence using the estimated parameter and
difference between the estimated parameter and the bootstrap
parameters</li>
<li>&#8216;percentile&#8217; - Direct use of bootstrap percentiles</li>
<li>&#8216;norm&#8217; - Makes use of normal approximation and bootstrap covariance
estimator</li>
<li>&#8216;studentized&#8217; - Uses either a standard error function or a nested
bootstrap to estimate percentiles and the bootstrap covariance for
scale</li>
<li>&#8216;bc&#8217; - Bias corrected using estimate bootstrap bias correction</li>
<li>&#8216;bca&#8217; - Bias corrected and accelerated, adding acceleration parameter
to &#8216;bc&#8217; method</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.MovingBlockBootstrap.cov">
<code class="descname">cov</code><span class="sig-paren">(</span><em>func</em>, <em>reps=1000</em>, <em>recenter=True</em>, <em>extra_kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.MovingBlockBootstrap.cov" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute parameter covariance using bootstrap</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>callable</em>) &#8211; Callable function that returns the statistic of interest as a
1-d array</li>
<li><strong>reps</strong> (<em>int, optional</em>) &#8211; Number of bootstrap replications</li>
<li><strong>recenter</strong> (<em>bool, optional</em>) &#8211; Whether to center the bootstrap variance estimator on the average
of the bootstrap samples (True) or to center on the original sample
estimate (False).  Default is True.</li>
<li><strong>extra_kwargs</strong> (<em>dict, optional</em>) &#8211; Dictionary of extra keyword arguments to pass to func</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cov</strong> &#8211; Bootstrap covariance estimator</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>func must have the signature</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">func</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>where params are a 1-dimensional array, and <cite>*args</cite> and <cite>**kwargs</cite> are
data used in the the bootstrap.  The first argument, params, will be
none when called using the original data, and will contain the estimate
computed using the original data in bootstrap replications.  This
parameter is passed to allow parametric bootstrap simulation.</p>
<p class="rubric">Example</p>
<p>Bootstrap covariance of the mean</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">arch.bootstrap</span> <span class="k">import</span> <span class="n">IIDBootstrap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bs</span> <span class="o">=</span> <span class="n">IIDBootstrap</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cov</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">cov</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<p>Bootstrap covariance using a function that takes additional input</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">stat</span><span class="o">==</span><span class="s1">&#39;mean&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">elif</span> <span class="n">stat</span><span class="o">==</span><span class="s1">&#39;var&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cov</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">cov</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">extra_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;stat&#39;</span><span class="p">:</span><span class="s1">&#39;var&#39;</span><span class="p">})</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note this is a generic example and so the class used should be the
name of the required bootstrap</p>
</div>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.MovingBlockBootstrap.get_state">
<code class="descname">get_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.MovingBlockBootstrap.get_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the state of the bootstrap&#8217;s random number generator</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>state</strong> &#8211; Array containing the state</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">RandomState state vector</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.MovingBlockBootstrap.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>use_seed=True</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.MovingBlockBootstrap.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the bootstrap to either its initial state or the last seed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>use_seed</strong> (<em>bool, optional</em>) &#8211; Flag indicating whether to use the last seed if provided.  If
False or if no seed has been set, the bootstrap will be reset
to the initial state.  Default is True</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.MovingBlockBootstrap.seed">
<code class="descname">seed</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.MovingBlockBootstrap.seed" title="Permalink to this definition">¶</a></dt>
<dd><p>Seeds the bootstrap&#8217;s random number generator</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>int</em>) &#8211; Integer to use as the seed</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.MovingBlockBootstrap.set_state">
<code class="descname">set_state</code><span class="sig-paren">(</span><em>state</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.MovingBlockBootstrap.set_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the state of the bootstrap&#8217;s random number generator</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> (<em>RandomState state vector</em>) &#8211; Array containing the state</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.MovingBlockBootstrap.var">
<code class="descname">var</code><span class="sig-paren">(</span><em>func</em>, <em>reps=1000</em>, <em>recenter=True</em>, <em>extra_kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.MovingBlockBootstrap.var" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute parameter variance using bootstrap</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>callable</em>) &#8211; Callable function that returns the statistic of interest as a
1-d array</li>
<li><strong>reps</strong> (<em>int, optional</em>) &#8211; Number of bootstrap replications</li>
<li><strong>recenter</strong> (<em>bool, optional</em>) &#8211; Whether to center the bootstrap variance estimator on the average
of the bootstrap samples (True) or to center on the original sample
estimate (False).  Default is True.</li>
<li><strong>extra_kwargs</strong> (<em>dict, optional</em>) &#8211; Dictionary of extra keyword arguments to pass to func</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>var</strong> &#8211; Bootstrap variance estimator</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">1-d array</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>func must have the signature</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">func</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>where params are a 1-dimensional array, and <cite>*args</cite> and <cite>**kwargs</cite> are
data used in the the bootstrap.  The first argument, params, will be
none when called using the original data, and will contain the estimate
computed using the original data in bootstrap replications.  This
parameter is passed to allow parametric bootstrap simulation.</p>
<p class="rubric">Example</p>
<p>Bootstrap covariance of the mean</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">arch.bootstrap</span> <span class="k">import</span> <span class="n">IIDBootstrap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bs</span> <span class="o">=</span> <span class="n">IIDBootstrap</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variances</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<p>Bootstrap covariance using a function that takes additional input</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">stat</span><span class="o">==</span><span class="s1">&#39;mean&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">elif</span> <span class="n">stat</span><span class="o">==</span><span class="s1">&#39;var&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variances</span> <span class="o">=</span> <span class="n">bs</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">extra_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;stat&#39;</span><span class="p">:</span> <span class="s1">&#39;var&#39;</span><span class="p">})</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note this is a generic example and so the class used should be the
name of the required bootstrap</p>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="background.html" class="btn btn-neutral float-right" title="References" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="iid-bootstraps.html" class="btn btn-neutral" title="Independent, Identical Distributed Data (i.i.d.)" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-6, Kevin Sheppard.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>