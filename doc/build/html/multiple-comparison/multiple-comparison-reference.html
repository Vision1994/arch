

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Module Reference &mdash; arch 3.2 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="arch 3.2 documentation" href="../index.html"/>
        <link rel="up" title="Multiple Comparison Procedures" href="multiple-comparisons.html"/>
        <link rel="next" title="References" href="background.html"/>
        <link rel="prev" title="Multiple Comparisons" href="multiple-comparison_examples.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> arch
          

          
          </a>

          
            
            
              <div class="version">
                3.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../univariate/univariate.html">Univariate Volatility Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bootstrap/bootstrap.html">Bootstrapping</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="multiple-comparisons.html">Multiple Comparison Problems</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="multiple-comparison_examples.html">Examples</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Module Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#test-of-superior-predictive-ability-spa-reality-check">Test of Superior Predictive Ability (SPA), Reality Check</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stepwise-multiple-testing-stepm">Stepwise Multiple Testing (StepM)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#model-confidence-set-mcs">Model Confidence Set (MCS)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="background.html">Background and References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../unitroot/unitroot.html">Unit Root Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Change Log</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">arch</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="multiple-comparisons.html">Multiple Comparison Procedures</a> &raquo;</li>
      
    <li>Module Reference</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/multiple-comparison/multiple-comparison-reference.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-reference">
<h1>Module Reference<a class="headerlink" href="#module-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="test-of-superior-predictive-ability-spa-reality-check">
<h2>Test of Superior Predictive Ability (SPA), Reality Check<a class="headerlink" href="#test-of-superior-predictive-ability-spa-reality-check" title="Permalink to this headline">¶</a></h2>
<p>The test of Superior Predictive Ability (Hansen 2005), or SPA, is an improved
version of the Reality Check (White 2000).  It tests whether the best
forecasting performance from a set of models is better than that of the
forecasts from a benchmark model.  A model is &#8220;better&#8221; if its losses are
smaller than those from the benchmark.  Formally, it tests the null</p>
<div class="math">
\[H_0: \max_i E[L_i] \geq E[L_{bm}]\]</div>
<p>where <span class="math">\(L_i\)</span> is the loss from model <em>i</em> and <span class="math">\(L_{bm}\)</span> is the loss
from the benchmark model.  The alternative is</p>
<div class="math">
\[H_1: \max_i E[L_i] &gt; E[L_{bm}]\]</div>
<p>This procedure accounts for dependence between the losses and the fact that
there are potentially alternative models being considered.</p>
<p><strong>Note</strong>: Also callable using <code class="xref py py-class docutils literal"><span class="pre">RealityCheck</span></code></p>
<dl class="class">
<dt id="arch.bootstrap.SPA">
<em class="property">class </em><code class="descclassname">arch.bootstrap.</code><code class="descname">SPA</code><span class="sig-paren">(</span><em>benchmark</em>, <em>models</em>, <em>block_size=None</em>, <em>reps=1000</em>, <em>bootstrap='stationary'</em>, <em>studentize=True</em>, <em>nested=False</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.SPA" title="Permalink to this definition">¶</a></dt>
<dd><p>Implementation of the Test of Superior Predictive Ability (SPA),
which is also known as the Reality Check or Bootstrap Data Snooper.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>benchmark</strong> (<em>array-like</em>) &#8211; T element array of benchmark model <em>losses</em></li>
<li><strong>models</strong> (<em>array-like</em>) &#8211; T  by k element array of alternative model <em>losses</em></li>
<li><strong>block_size</strong> (<em>int, optional</em>) &#8211; Length of window to use in the bootstrap.  If not provided, sqrt(T)
is used.  In general, this should be provided and chosen to be
appropriate for the data.</li>
<li><strong>reps</strong> (<em>int, optional</em>) &#8211; Number of bootstrap replications to uses.  Default is 1000.</li>
<li><strong>bootstrap</strong> (<em>str, optional</em>) &#8211; Bootstrap to use.  Options are
&#8216;stationary&#8217; or &#8216;sb&#8217;: Stationary bootstrap (Default)
&#8216;circular&#8217; or &#8216;cbb&#8217;: Circular block bootstrap
&#8216;moving block&#8217; or &#8216;mbb&#8217;: Moving block bootstrap</li>
<li><strong>studentize</strong> (<em>bool</em>) &#8211; Flag indicating to studentize loss differentials. Default is True</li>
<li><strong>nested=False</strong> &#8211; Flag indicating to use a nested bootstrap to compute variances for
studentization.  Default is False.  Note that this can be slow since
the procedure requires k extra bootstraps.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="arch.bootstrap.SPA.compute">
<code class="descname">compute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.SPA.compute" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the bootstrap pvalue.  Must be called before accessing the
pvalue</p>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.SPA.seed">
<code class="descname">seed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.SPA.seed" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass seed to bootstrap implementation</p>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.SPA.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.SPA.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the bootstrap to its initial state</p>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.SPA.better_models">
<code class="descname">better_models</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.SPA.better_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce a list of column indices or names (if models is a DataFrame)
that are rejected given a test size</p>
</dd></dl>

<dl class="attribute">
<dt id="arch.bootstrap.SPA.pvalues">
<code class="descname">pvalues</code><a class="headerlink" href="#arch.bootstrap.SPA.pvalues" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Series</em> &#8211; A set of three p-values corresponding to the lower, consistent and
upper p-values.</p>
</dd></dl>

<p class="rubric">References</p>
<p>White, H. (2000). &#8220;A reality check for data snooping.&#8221; Econometrica 68,
no. 5, 1097-1126.</p>
<p>Hansen, P. R. (2005). &#8220;A test for superior predictive ability.&#8221;
Journal of Business &amp; Economic Statistics, 23(4)</p>
<p class="rubric">Notes</p>
<dl class="docutils">
<dt>The three p-value correspond to different re-centering decisions.</dt>
<dd><ul class="first last simple">
<li>Upper : Never recenter to all models are relevant to distribution</li>
<li>Consistent : Only recenter if closer than a log(log(t)) bound</li>
<li>Lower : Never recenter a model if worse than benchmark</li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#arch.bootstrap.StepM" title="arch.bootstrap.StepM"><code class="xref py py-class docutils literal"><span class="pre">StepM</span></code></a></p>
</div>
<dl class="method">
<dt>
<code class="descname">compute</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Compute the bootstrap p-value</p>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.SPA.critical_values">
<code class="descname">critical_values</code><span class="sig-paren">(</span><em>pvalue=0.05</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.SPA.critical_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns data-dependent critical values</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pvalue</strong> (<em>float, optional</em>) &#8211; P-value in (0,1) to use when computing the critical values.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>crit_vals</strong> &#8211; Series containing critical values for the lower, consistent and
upper methodologies</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Series</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">pvalues</code></dt>
<dd><p>Returns Series containing three p-values corresponding to the
lower, consistent and upper methodologies.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="stepwise-multiple-testing-stepm">
<h2>Stepwise Multiple Testing (StepM)<a class="headerlink" href="#stepwise-multiple-testing-stepm" title="Permalink to this headline">¶</a></h2>
<p>The Stepwise Multiple Testing procedure (Romano &amp; Wolf (2005)) is closely
related to the SPA, except that it returns a set of models that are superior
to the benchmark model, rather than the p-value from the null.  They are
so closely related that <a class="reference internal" href="#arch.bootstrap.StepM" title="arch.bootstrap.StepM"><code class="xref py py-class docutils literal"><span class="pre">StepM</span></code></a> is essentially
a wrapper around <a class="reference internal" href="#arch.bootstrap.SPA" title="arch.bootstrap.SPA"><code class="xref py py-class docutils literal"><span class="pre">SPA</span></code></a> with some small modifications
to allow multiple calls.</p>
<dl class="class">
<dt id="arch.bootstrap.StepM">
<em class="property">class </em><code class="descclassname">arch.bootstrap.</code><code class="descname">StepM</code><span class="sig-paren">(</span><em>benchmark</em>, <em>models</em>, <em>size=0.05</em>, <em>block_size=None</em>, <em>reps=1000</em>, <em>bootstrap='stationary'</em>, <em>studentize=True</em>, <em>nested=False</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.StepM" title="Permalink to this definition">¶</a></dt>
<dd><p>Implementation of Romano and Wolf&#8217;s StepM multiple comparison procedure</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>benchmark</strong> (<em>array-like</em>) &#8211; T element array of benchmark model <em>losses</em></li>
<li><strong>models</strong> (<em>array-like</em>) &#8211; T  by k element array of alternative model <em>losses</em></li>
<li><strong>size</strong> (<em>float, optional</em>) &#8211; Value in (0,1) to use as the test size when implementing the
comparison. Default value is 0.05.</li>
<li><strong>block_size</strong> (<em>int, optional</em>) &#8211; Length of window to use in the bootstrap.  If not provided, sqrt(T)
is used.  In general, this should be provided and chosen to be
appropriate for the data.</li>
<li><strong>reps</strong> (<em>int, optional</em>) &#8211; Number of bootstrap replications to uses.  Default is 1000.</li>
<li><strong>bootstrap</strong> (<em>str, optional</em>) &#8211; Bootstrap to use.  Options are
&#8216;stationary&#8217; or &#8216;sb&#8217;: Stationary bootstrap (Default)
&#8216;circular&#8217; or &#8216;cbb&#8217;: Circular block bootstrap
&#8216;moving block&#8217; or &#8216;mbb&#8217;: Moving block bootstrap</li>
<li><strong>studentize</strong> (<em>bool, optional</em>) &#8211; Flag indicating to studentize loss differentials. Default is True</li>
<li><strong>nested</strong> (<em>bool, optional</em>) &#8211; Flag indicating to use a nested bootstrap to compute variances for
studentization.  Default is False.  Note that this can be slow since
the procedure requires k extra bootstraps.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="arch.bootstrap.StepM.compute">
<code class="descname">compute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.StepM.compute" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the set of superior models.</p>
</dd></dl>

<dl class="attribute">
<dt id="arch.bootstrap.StepM.superior_models">
<code class="descname">superior_models</code><a class="headerlink" href="#arch.bootstrap.StepM.superior_models" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list</em> &#8211; List of superior models.  Contains column indices if models is an
array or contains column names if models is a DataFrame.</p>
</dd></dl>

<p class="rubric">References</p>
<p>Romano, J. P., &amp; Wolf, M. (2005). &#8220;Stepwise multiple testing as formalized
data snooping.&#8221; Econometrica, 73(4), 1237-1282.</p>
<p class="rubric">Notes</p>
<p>The size controls the Family Wise Error Rate (FWER) since this is a
multiple comparison procedure.  Uses SPA and the consistent selection
procedure.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#arch.bootstrap.SPA" title="arch.bootstrap.SPA"><code class="xref py py-class docutils literal"><span class="pre">SPA</span></code></a></p>
</div>
<dl class="method">
<dt>
<code class="descname">compute</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Computes the set of superior models</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">superior_models</code></dt>
<dd><p>Returns a list of the indices or column names of the superior models.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="model-confidence-set-mcs">
<h2>Model Confidence Set (MCS)<a class="headerlink" href="#model-confidence-set-mcs" title="Permalink to this headline">¶</a></h2>
<p>The Model Confidence Set (Hansen, Lunde &amp; Nason (2011)) differs from other
multiple comparison procedures in that there is no benchmark.  The MCS attempts
to identify the set of models which produce the same expected loss, while
controlling the probability that a model that is worse than the best model is
in the model confidence set.  Like the other MCPs, it controls the
Familywise Error Rate rather than the usual test size.</p>
<dl class="class">
<dt id="arch.bootstrap.MCS">
<em class="property">class </em><code class="descclassname">arch.bootstrap.</code><code class="descname">MCS</code><span class="sig-paren">(</span><em>losses</em>, <em>size</em>, <em>reps=1000</em>, <em>block_size=None</em>, <em>method='R'</em>, <em>bootstrap='stationary'</em><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.MCS" title="Permalink to this definition">¶</a></dt>
<dd><p>Implementation of the Model Confidence Set (MCS)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>losses</strong> (<em>array-like</em>) &#8211; T by k array containing losses from a set of models</li>
<li><strong>size</strong> (<em>float, optional</em>) &#8211; Value in (0,1) to use as the test size when implementing the
mcs. Default value is 0.05.</li>
<li><strong>block_size</strong> (<em>int, optional</em>) &#8211; Length of window to use in the bootstrap.  If not provided, sqrt(T)
is used.  In general, this should be provided and chosen to be
appropriate for the data.</li>
<li><strong>method</strong> (<em>str, optional</em>) &#8211; MCS test and elimination implementation method: either &#8216;max&#8217; or &#8216;R&#8217;.
Default is &#8216;R&#8217;.</li>
<li><strong>reps</strong> (<em>int, optional</em>) &#8211; Number of bootstrap replications to uses.  Default is 1000.</li>
<li><strong>bootstrap</strong> (<em>str, optional</em>) &#8211; Bootstrap to use.  Options are
&#8216;stationary&#8217; or &#8216;sb&#8217;: Stationary bootstrap (Default)
&#8216;circular&#8217; or &#8216;cbb&#8217;: Circular block bootstrap
&#8216;moving block&#8217; or &#8216;mbb&#8217;: Moving block bootstrap</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="arch.bootstrap.MCS.pvalues">
<code class="descname">pvalues</code><a class="headerlink" href="#arch.bootstrap.MCS.pvalues" title="Permalink to this definition">¶</a></dt>
<dd><p><em>DataFrame</em> &#8211; DataFrame where the index is the model index (column or name)
containing the smallest size where the model is in the MCS.</p>
</dd></dl>

<dl class="attribute">
<dt id="arch.bootstrap.MCS.included">
<code class="descname">included</code><a class="headerlink" href="#arch.bootstrap.MCS.included" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list</em> &#8211; List of column indices or names of the included models</p>
</dd></dl>

<dl class="attribute">
<dt id="arch.bootstrap.MCS.excluded">
<code class="descname">excluded</code><a class="headerlink" href="#arch.bootstrap.MCS.excluded" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list</em> &#8211; List of column indices or names of the excluded models</p>
</dd></dl>

<dl class="method">
<dt id="arch.bootstrap.MCS.compute">
<code class="descname">compute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arch.bootstrap.MCS.compute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric">References</p>
<p>Hansen, P. R., Lunde, A., &amp; Nason, J. M. (2011). The model confidence set.
Econometrica, 79(2), 453-497.</p>
<dl class="method">
<dt>
<code class="descname">compute</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Computes the model confidence set</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="background.html" class="btn btn-neutral float-right" title="References" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="multiple-comparison_examples.html" class="btn btn-neutral" title="Multiple Comparisons" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-6, Kevin Sheppard.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>